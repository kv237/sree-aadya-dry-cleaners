<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>My Profile & Settings | Sree Aadya Dry Cleaners</title>

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />

<style>
body {
  margin: 0;
  font-family: "Poppins", sans-serif;
  background: #f4f7fb;
  color: #333;
}

/* Sidebar */
.sidebar {
  width: 250px;
  background: #0b0c10;
  color: #fff;
  position: fixed;
  height: 100%;
  padding-top: 40px;
}
.sidebar h2 {
  text-align: center;
  color: #42a5f5;
  font-size: 24px;
  margin-bottom: 40px;
}
.sidebar a {
  display: block;
  padding: 14px 25px;
  color: #ddd;
  text-decoration: none;
  transition: 0.3s;
}
.sidebar a:hover, .sidebar a.active {
  background: #42a5f5;
  color: #fff;
}

/* Main content */
.main-content {
  margin-left: 250px;
  padding: 50px 60px;
}

/* Header Section */
.profile-header {
  display: flex;
  align-items: center;
  gap: 25px;
  background: #fff;
  padding: 30px;
  border-radius: 15px;
  box-shadow: 0 4px 20px rgba(0,0,0,0.1);
  margin-bottom: 30px;
}

.profile-img {
  position: relative;
  width: 120px;
  height: 120px;
}
.profile-img img {
  width: 120px;
  height: 120px;
  border-radius: 50%;
  object-fit: cover;
  border: 3px solid #42a5f5;
}
.profile-img input {
  display: none;
}
.edit-img-btn {
  position: absolute;
  bottom: 5px;
  right: 5px;
  background: #42a5f5;
  border: none;
  color: white;
  border-radius: 50%;
  width: 35px;
  height: 35px;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
}
.edit-img-btn:hover {
  background: #1e88e5;
}

.profile-info h1 {
  font-size: 26px;
  color: #333;
  margin-bottom: 5px;
}
.profile-info p {
  color: #777;
  font-size: 15px;
}

/* Tabs */
.tabs {
  display: flex;
  gap: 20px;
  margin-bottom: 25px;
}
.tab {
  background: #fff;
  padding: 12px 25px;
  border-radius: 10px;
  cursor: pointer;
  font-weight: 500;
  box-shadow: 0 3px 10px rgba(0,0,0,0.1);
  color: #555;
  transition: 0.3s;
}
.tab.active {
  background: #42a5f5;
  color: #fff;
}

/* Section Containers */
.section {
  display: none;
  background: #fff;
  padding: 30px;
  border-radius: 15px;
  box-shadow: 0 4px 20px rgba(0,0,0,0.1);
}
.section.active {
  display: block;
}

/* Profile Details */
.profile-item {
  display: flex;
  justify-content: space-between;
  border-bottom: 1px solid #eee;
  padding: 15px 0;
}
.profile-item:last-child {
  border-bottom: none;
}
.profile-item input {
  border: none;
  outline: none;
  font-size: 15px;
  color: #555;
  width: 60%;
  background: transparent;
}

/* Buttons */
.btn-group {
  margin-top: 20px;
  text-align: right;
}
button {
  border: none;
  padding: 10px 20px;
  border-radius: 8px;
  cursor: pointer;
  font-size: 15px;
  font-weight: 600;
  transition: 0.3s;
}
.edit-btn {
  background: #42a5f5;
  color: white;
}
.save-btn {
  background: #00c853;
  color: white;
  display: none;
}
.edit-btn:hover {
  background: #1e88e5;
}
.save-btn:hover {
  background: #00a043;
}

/* Notification Toggles */
.toggle {
  position: relative;
  width: 45px;
  height: 22px;
}
.toggle input {
  opacity: 0;
  width: 0;
  height: 0;
}
.slider {
  position: absolute;
  top: 0; left: 0;
  right: 0; bottom: 0;
  background-color: #ccc;
  border-radius: 22px;
  cursor: pointer;
  transition: 0.3s;
}
.slider:before {
  position: absolute;
  content: "";
  height: 16px;
  width: 16px;
  left: 3px;
  bottom: 3px;
  background-color: white;
  border-radius: 50%;
  transition: 0.3s;
}
input:checked + .slider {
  background-color: #42a5f5;
}
input:checked + .slider:before {
  transform: translateX(22px);
}

/* Danger Zone */
.danger {
  margin-top: 20px;
  color: #c62828;
  text-align: right;
}
.danger button {
  background: #c62828;
  color: white;
}
.danger button:hover {
  background: #b71c1c;
}
</style>
</head>

<body>

<!-- Sidebar -->
<div class="sidebar">
  <h2>Sree Aadya</h2>
  <a href="dashboard.html"><i class="fas fa-home"></i> Dashboard</a>
  <a href="myorders.html"><i class="fas fa-tshirt"></i> Active Orders</a>
  <a href="delivery.html"><i class="fas fa-truck"></i> Delivery Status</a>
  <a href="profile.html" class="active"><i class="fas fa-user"></i> Profile</a>
  <a href="support.html"><i class="fas fa-headset"></i> Support</a>
  <a href="#" id="logoutBtn"><i class="fas fa-sign-out-alt"></i> Logout</a>
</div>

<!-- Main Content -->
<div class="main-content">

  <div class="profile-header">
    <div class="profile-img">
      <img id="profileImage" src="https://via.placeholder.com/120" alt="Profile Picture" />
      <label for="uploadImage" class="edit-img-btn"><i class="fas fa-camera"></i></label>
      <input type="file" id="uploadImage" accept="image/*" />
    </div>

    <div class="profile-info">
      <h1 id="profileName">Loading...</h1>
      <p id="profileEmail">Loading...</p>
    </div>
  </div>

  <!-- Tabs -->
  <div class="tabs">
    <div class="tab active" data-section="profile">Profile</div>
    <div class="tab" data-section="notifications">Notifications</div>
    <div class="tab" data-section="privacy">Privacy & Account</div>
  </div>

  <!-- Profile Section -->
  <div id="profile" class="section active">
    <div class="profile-item"><span>Full Name:</span><input type="text" id="name" disabled></div>
    <div class="profile-item"><span>Email Address:</span><input type="text" id="email" disabled></div>
    <div class="profile-item"><span>Phone Number:</span><input type="text" id="phone" disabled></div>
    <div class="profile-item"><span>Member Since:</span><input type="text" id="joinedDate" disabled></div>

    <div class="btn-group">
      <button class="edit-btn" id="editBtn">Edit Profile</button>
      <button class="save-btn" id="saveBtn">Save Changes</button>
    </div>
  </div>

  <!-- Notifications Section -->
  <div id="notifications" class="section">
    <div class="profile-item"><span>Email Alerts</span>
      <label class="toggle"><input type="checkbox" checked><span class="slider"></span></label>
    </div>
    <div class="profile-item"><span>SMS Notifications</span>
      <label class="toggle"><input type="checkbox"><span class="slider"></span></label>
    </div>
    <div class="profile-item"><span>Order Updates</span>
      <label class="toggle"><input type="checkbox" checked><span class="slider"></span></label>
    </div>
  </div>

  <!-- Privacy Section -->
  <div id="privacy" class="section">
    <div class="profile-item"><span>Change Password</span>
      <button class="edit-btn" onclick="alert('Redirect to Change Password Page')">Change</button>
    </div>
    <div class="profile-item"><span>Two-Factor Authentication</span>
      <label class="toggle"><input type="checkbox"><span class="slider"></span></label>
    </div>
    <div class="danger">
      <button onclick="confirmDelete()">Delete Account</button>
    </div>
  </div>

</div>

<script>
// Load User
let currentUser = JSON.parse(localStorage.getItem('user')) || {
  name: "John Doe",
  email: "john@example.com",
  phone: "9876543210",
  joined: "Oct 2025",
  image: ""
};

document.getElementById("profileName").textContent = currentUser.name;
document.getElementById("profileEmail").textContent = currentUser.email;
document.getElementById("name").value = currentUser.name;
document.getElementById("email").value = currentUser.email;
document.getElementById("phone").value = currentUser.phone;
document.getElementById("joinedDate").value = currentUser.joined;
if (currentUser.image) document.getElementById("profileImage").src = currentUser.image;

// Edit / Save
const editBtn = document.getElementById("editBtn");
const saveBtn = document.getElementById("saveBtn");
const inputs = document.querySelectorAll("#profile input[type='text']");

editBtn.onclick = () => {
  inputs.forEach(i => i.disabled = false);
  editBtn.style.display = "none";
  saveBtn.style.display = "inline-block";
};

saveBtn.onclick = () => {
  inputs.forEach(i => i.disabled = true);
  editBtn.style.display = "inline-block";
  saveBtn.style.display = "none";
  currentUser.name = document.getElementById("name").value;
  currentUser.email = document.getElementById("email").value;
  currentUser.phone = document.getElementById("phone").value;
  localStorage.setItem("user", JSON.stringify(currentUser));
  document.getElementById("profileName").textContent = currentUser.name;
  document.getElementById("profileEmail").textContent = currentUser.email;
  alert("Profile updated successfully!");
};

// Change Profile Image
document.getElementById("uploadImage").addEventListener("change", e => {
  const file = e.target.files[0];
  if (file) {
    const reader = new FileReader();
    reader.onload = e => {
      document.getElementById("profileImage").src = e.target.result;
      currentUser.image = e.target.result;
      localStorage.setItem("user", JSON.stringify(currentUser));
    };
    reader.readAsDataURL(file);
  }
});

// Tabs
document.querySelectorAll(".tab").forEach(tab => {
  tab.addEventListener("click", () => {
    document.querySelectorAll(".tab").forEach(t => t.classList.remove("active"));
    tab.classList.add("active");
    document.querySelectorAll(".section").forEach(s => s.classList.remove("active"));
    document.getElementById(tab.dataset.section).classList.add("active");
  });
});

// Delete account
function confirmDelete() {
  if (confirm("Are you sure you want to delete your account?")) {
    localStorage.removeItem("user");
    alert("Your account has been deleted.");
    window.location.href = "login.html";
  }
}

// Logout
document.getElementById("logoutBtn").addEventListener("click", () => {
  localStorage.removeItem("user");
  alert("Logged out successfully!");
  window.location.href = "login.html";
});
</script>

</body>
</html>
